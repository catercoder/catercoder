<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<style>
	html,
	body{
		padding:0;
		margin:0;
		box-sizing: border-box;
		background-color:#203;
		min-height: 100vh;
		max-width: 100vw;
		z-index: 0;
		overflow: hidden;
	}
	.wrapper{
		display:flex;
		flex-direction:column;
		justify-content: center;
		align-items: center;
		gap:5px;
		width:100%;
		height:100%;
	}
	.main{
		display:flex;
		flex-direction:column;
		gap:5px;
		width:95%;
		height:100%;
	}
	.blocks_main{
		padding:5px;
		text-align: center;
		background: black;
		color:white;
		box-shadow: 2px 2px 5px 3px gray,
			inset 0px 1px 2px  white;
		border: 1px solid red;
		border-radius: 25px;
		font-size:20px;
	}
	.buttons_conteiner{
		display:flex;
		flex-direction: column;
		gap:5px 5px;
	}
	.button_box{
		display: flex;
		flex-direction: row;
		justify-content: space-around;
		gap:5px;
	}
	.glow-on-hover {
    width: 80px;
    height: 50px;
    border: none;
    outline: none;
    color: #fff;
    background: #111;
    cursor: pointer;
    position: relative;
    z-index: 0;
    border-radius: 10px;
}
.glow-on-hover:before {
    content: '';
    background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
    position: absolute;
    top: -4px;
    left:-4px;
    background-size: 400%;
    z-index: -1;
    filter: blur(5px);
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
    border-radius: 10px;
}

.glow-on-hover:active {
    color: #000
}

.glow-on-hover:active:after {
    background: transparent;
}

.glow-on-hover:hover:before {
    opacity: 1;
}

.glow-on-hover:after {
    z-index: -1;
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: #111;
    left: 0;
    top: 0;
    border-radius: 10px;
}

@keyframes glowing {
    0% { background-position: 0 0; }
    50% { background-position: 400% 0; }
    100% { background-position: 0 0; }
}

@media (min-width: 500px){
	.glow-on-hover{
		width:240px;
	}
}

</style>
<body>
	<div class="wrapper">
		<div class="main">

			<div class=" blocks_main " id="name">
				Перетусуй сначало чушпан!
			</div>

			<div class=" blocks_main " id="hat">
				???
			</div>

			<div class=" blocks_main " id="spice">
				???
			</div>
			<div class="blocks_main box_img">
				<img id="img" src='image/logotip/Screenshot_20240319-160147_ .jpg' alt="picture" style=	"width:200px; margin:0;">
			</div>
		</div>

		<div class="buttons_conteiner">
			<div class="button_box">
				<div id="button_back" class="button_back"><button class="glow-on-hover">назад</button></div>
				<div id="button_next" class="button_next"><button class="glow-on-hover">далее</button></div>
			</div>
			<div class="button_box">
				<div id="button_shuffle" class="buttonShuffle  "><button  class="glow-on-hover">перемешать</button></div>
				<div id="button_show" class="button_show"><button class="glow-on-hover">показать</button></div>
			</div>
				<!--
				<div id="button_back" class="button_back"><button class="glow-on-hover">назад</button></div>
				<div id="button_shuffle" class="buttonShuffle  "><button  class="glow-on-hover">перемешать</button></div>
				<div id="button_show" class="button_show"><button class="glow-on-hover">показать</button></div>
				<div id="button_next" class="button_next"><button class="glow-on-hover">далее</button></div>
			-->
		</div>
	</div>


</body>
<script>
	let arr = []; // array to SHUFFLE 

//////////////////////////////////////////начало темпурной базы ///////////////////////////////
	let arrayRollRazdacha = [

	{name:'ЗапечФила С Угрем', hat : 'Сырный' , spice : 'Унаги кунжут' , image : 'image/Zapech_Fila_s_Ugrem.jpg'},
	{name:'ЗапФила С мидиями', hat : 'Сырный' , spice : 'Унаги кунжут' , image : 'image/Zap_Fila_s_Midiymi.jpg'},
	{name:'Цыпочка', hat : 'Сырный' , spice : 'Унаги' , image : 'image/Cipochka.jpg'},
	{name:'Вулкан', hat : 'Сырный' , spice : 'Спайси перед запек' , image : 'image/Vulkan.jpg'},
	{name:'Тунец Хот', hat : 'Сырный' , spice : 'унаги и кр массага' , image : 'image/Tunec_Hot.jpg'},
	{name:'Зап Калифорния', hat : 'Сырный' , spice : 'ничем' , image : 'image/Zapechenay_kaliforniy.jpg'},
	{name:'Цезарь Запеченый', hat : 'Сырный' , spice : 'посыпается пармезаном' , image : 'image/Cezar.jpg'},
	{name:'ЗапКалиф с Крев', hat : 'Сырный' , spice : 'Унаги' , image : 'image/Zapechenay_kaliforniy_s_Krevetkoi.jpg'},
	{name:'Сяке Терияки', hat : 'Яки' , spice : 'Унаги' , image : 'image/Syke_Teriyki.jpg'},
	{name:'Майами', hat : 'Яки' , spice : 'Манго Чили' , image : 'image/Maiami.jpg'},
	{name:'Гриль Тунец', hat : 'Яки' , spice : 'Унаги' , image : 'image/Gril_Tunec.jpg'},
	{name:'Дакота', hat : 'Яки' , spice : 'Унаги' , image : 'image/Dakota.jpg'},
	{name:'Черная Мамба', hat : 'Спайси точки' , spice : 'ничем' , image : 'image/Chernay_mamba.jpg'},
	{name:'Катана', hat : 'Лосось Спайси' , spice : 'Унаги' , image : 'image/Katana.jpg'},
	{name:'Малибу', hat : 'Лосось Спайси' , spice : 'Манго Чили' , image : 'image/Malibu.jpg'},
	{name:'Блэк Джэк', hat : 'Лосось Спайси' , spice : 'Манго Чили' , image : 'image/Black_jack.jpg'},
	{name:'Запеченная Фила Лосось', hat : 'Яки Лосось' , spice : 'Унаги' , image : 'image/Zap_Fila_s_Lososem.jpg'},
	{name:'Ронин', hat : 'Яки Лосось' , spice : 'Манго Чили' , image :  '#'},
	{name:'Фудзи', hat : 'Спайси Угорь' , spice : 'Унаги  и кунжут' , image : 'image/Fudzi.jpg'},
	{name:'Банзай', hat : 'Спайси Угорь' , spice : 'Унаги  и кунжут' , image : 'image/Banzai.jpg'},
	{name:'Находка', hat : 'Мидиевый' , spice : 'Унаги  и кунжут' , image : 'image/Nahodka.jpg'},
	{name:'Сегун', hat : 'Спайси Креветка' , spice : 'Манго Чили и супер лук' , image : 'image/Segun.jpg'},
	{name:'Сяке Хот', hat : 'Спайси Сырный' , spice : 'ничем' , image : 'image/Syke_hot.jpg'},
	{name:'Креветка Спайси', hat : 'Спайси Сырный' , spice : 'ничем' , image : 'image/Krevetka_spisi.jpg'},
	{name:'Киото', hat : 'Спайси Краб' , spice : 'ничем' , image : 'image/Kioto.jpg'},
	{name:'Краб Спайси', hat : 'Спайси Краб' , spice : 'ничем' , image : 'image/Krab_spisi.jpg'},
	{name:'Блэк Стар', hat : 'Спайси Краб' , spice : 'ничем' , image : '#'},
	{name:'Санрайз', hat : 'Манго Чили после запек' , spice : 'Манго Чили' , image : 'image/Sunrise.jpg'},
	{name:'Окинава', hat : 'Яки Краб' , spice : 'Унаги  и кунжут' , image : "image/Okinava.jpg"},
	{name:'Зап Фила с Краб', hat : 'Яки Краб' , spice : 'свит Чили' , image : 'image/Zap_Fila_s_Krabom.jpg'},
	{name:'Чикен Хот', hat : 'Куринный Замес' , spice : 'свит Чили' , image : 'image/Chicken_Hot.jpg'}

	];

/////////////////////////////////////////////////////////конец темпурной базы///////////////////////

////////////////////////////////////////////////////////начало холодной базы /////////////////////////

	let arrayNameCool = [
	 'РоллсРолл','Лотос','ЭбиЛайт',
	'Аляска','Нагано','Самурай',
	'ФилаДелюкс','ФилаСПерсиком','Нью-Йорк',
	'РозовыйДракон','КреветкаВасаби','СякеДелюкс',
	'Камикадзе','ТориКинг','ТориКунсей',
	'ТомагоЛайт','Рио','Осака'];

	let arrayHatCool = [
	 'Сыр жар креветка','Манго точки','грязный майонез точки',
	'Яки соус и Супер Лук','Спайси точки и Супер Лук','пополам унагиКунж',
	'Сыр и красная икра','Икра лосося','Икра лосося',
	'Манго и зел лук','Сыр жаренная креветка','Сыр и Супер лук',
	'Манго чили','Сыр и жар курица','Сыр',
	'Свит-чили точки','Спайси лосось','Спайси Краб',];

	let arraySpiceCool = [
	 'Манго и массага красная','Супер лук','ЭбиЛайт',
	'Аляска','Нагано','и спайси точки с супЛуком',
	'ФилаДелюкс','ФилаСПерсиком','Нью-Йорк',
	'РозовыйДракон','Катаиффи,ВассабиСоус,массОранж','СякеДелюкс',
	'Камикадзе','Свит-чили, Катаиффи, посыпать лук','Супер лук',
	'ТомагоЛайт','ничем','ничем'];

//////////////////////////////////////////////////////////конец холодной базы //////////////////////////
	//const name = document.querySelector('.name');
	//const hat = document.querySelector('.hat');
	//const spice = document.querySelector('.spice');

	const name = document.getElementById('name');
	const hat = document.getElementById('hat');
	const spice = document.getElementById('spice');
	const img = document.getElementById('img');


	let count ;//счетчик для перебора в back and next
	//let flag;//флаг 1 очередь next , 0 очередь back
	console.log(count);
	function init(){
		console.log('init...');
		return count === undefined? 1: 0;
	}
	function incrementCount(button){
		
		if ( init() ){
		 console.log( "count ===0 ") ; count =0;
		}else {
			switch(button){
				case "next":
				if(count+1 >= arrayRollRazdacha.length){
				count = 0;
				}else{ count ++}
				//return count;
				console.log(button+' '+ count);
				break;

				case "back":
				if(count - 1 < 0){
				count = arrayRollRazdacha.length -1;
				}else{ count --};
				//return count;
				console.log(button +' '+count);
				break;

				case "show":
				return count === undefined?folse : true;
			}
		}
	}
// button SHOW
// button SHOW
	// button SHOW
	const button_show = document.getElementById('button_show');
	button_show.addEventListener('click',function(){

		if(incrementCount("show")){
				if (arr.length === 0 && count !== undefined){
				hat.textContent = arrayRollRazdacha[count].hat;
				spice.textContent = arrayRollRazdacha[count].spice;
				img.src = arrayRollRazdacha[count].image;
				}else{
				hat.textContent = arrayRollRazdacha[arr[count]].hat;
				spice.textContent = arrayRollRazdacha[arr[count]].spice;
				img.src = arrayRollRazdacha[arr[count]].image;
			}
		}else{
			name.textContent='Нажми далее';
		}
})


	
//button  Back
	let button_back = document.getElementById('button_back');
	button_back.addEventListener('click',function(){

		incrementCount('back');
		if (arr.length == 0){
				name.textContent = arrayRollRazdacha[count].name;
				hat.textContent = "?";
				spice.textContent = "???";
				}else{
					name.textContent = arrayRollRazdacha[arr[count]].name;
					hat.textContent = "?";
					spice.textContent ='???';
				}

		
	})

// button NEXT
	let button_next = document.getElementById('button_next');
	button_next.addEventListener('click', function(){

		incrementCount("next");
		console.log('next up , count = '+count);
		if ( arr.length === 0){
				name.textContent = arrayRollRazdacha[count].name;
				hat.textContent = "?";
				spice.textContent = "???";
				}else{
					name.textContent = arrayRollRazdacha[arr[count]].name;
					hat.textContent = "?";
					spice.textContent = "???";
				}

		


	});

console.log(arr.length + 'arr.length');
	// SHUFFLE @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

	

	let button_shuffle = document.getElementById('button_shuffle');
	button_shuffle.addEventListener('click',function(){
		count = undefined;
	function createArr(){
		for(i=0; i<= arrayRollRazdacha.length;i++){
			arr[i]=i;
		}
		console.log('arrCreate!')
	}

	// shuffle arr

	function putToCache(elem,cache){
		if(cache.indexOf(elem) != -1){
			return;
		}
		var i = Math.floor(Math.random()*(cache.length + 1));
		cache.splice(i ,0, elem);
	}
	function madness(){
		var cache = [];
		return function (a,b){
			putToCache(a , cache);
			putToCache(b, cache);
			return cache.indexOf(b) - cache.indexOf(a);
		}
	}
	function shuffle(arr){
		var compare = madness();
		return arr.sort(compare);
	}

		createArr();
		shuffle(arr);
		console.log(arr);
	})

</script>
</html>
